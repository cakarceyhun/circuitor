<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>My Wasm Project</title>
  </head>

  <body>
   <canvas id="myCanvas" width="1000" height="1000" style="border:1px solid #000000;">
     </canvas>

     
    <script type="module">
      function draw_not(ctx, x, y, color)
      {
          ctx.beginPath();
          ctx.strokeStyle = color;
          ctx.moveTo(x + 0, y + 25); ctx.lineTo(x + 15, y + 25);
          ctx.moveTo(x + 57, y + 35); ctx.lineTo(x + 57 + 15, y + 35);
          ctx.moveTo(x + 0, y + 45); ctx.lineTo(x + 15, y + 45);
          ctx.moveTo(x + 15, y + 10); ctx.lineTo(x + 15, y + 60); ctx.lineTo(x + 45, y + 35); ctx.lineTo(x + 15, y + 10); 
          ctx.moveTo(x + 59, y + 35); ctx.arc(x + 52, y + 35, 6, 0, 2 * Math.PI);
          ctx.stroke();
      }

      function draw_and(ctx, x, y, color)
      {
          ctx.beginPath();
          ctx.strokeStyle = color;
          ctx.moveTo(x + 0, y + 25); ctx.lineTo(x + 15, y + 25);
          ctx.moveTo(x + 70, y + 35); ctx.lineTo(x + 70 + 15, y + 35);
          ctx.moveTo(x + 0, y + 45); ctx.lineTo(x + 15, y + 45);
          ctx.moveTo(x + 15, y + 10); ctx.lineTo(x + 15, y + 60); ctx.lineTo(x + 45, y + 60); //ctx.lineTo(x + 15, y + 10);
          ctx.moveTo(x + 15, y + 10); ctx.lineTo(x + 45, y + 10);
          //ctx.moveTo(x + 82, y + 35); ctx.ac(x + 75, y + 35, 6, 0, 2 * Math.PI);
          ctx.moveTo(x + 45, y + 10); ctx.arc(x + 45, y + 35.5, 25, (3 * Math.PI / 2), Math.PI / 2);
          ctx.stroke();
      }

      
      import { default as wasm, greet } from "./pkg/circuitor.js";

      wasm().then((module) => {
          var c = document.getElementById("myCanvas");
          var ctx = c.getContext("2d");   
          ctx.lineWidth = 2;

          draw_not(ctx, 0, 0, "red");
          draw_and(ctx, 0, 60, "green");
           
          console.log(greet());
      });
    </script>
  </body>
</html>
